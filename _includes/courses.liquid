{% if site.teachings %}
  <div class="table-responsive">
    <table class="table table-sm table-borderless">
      <tbody>
        {% assign courses_by_year = site.teachings | sort: 'year' | reverse | group_by: 'year' %}
        
        {% for year_group in courses_by_year %}
          {% assign year_courses = year_group.items | sort: 'term' %}
          
          {% for course in year_courses %}
            <tr>
              <th scope="row" style="width: 20%">
                {% if course.term %}{{ course.term }} {% endif %}{{ year_group.name }}
              </th>
              <td>
                {% if course.role %}
                  <strong>{{ course.role }}</strong> &middot; 
                {% elsif course.instructor %}
                  <strong>{{ course.instructor }}</strong> &middot; 
                {% endif %}
                {% if course.link %}
                  <a href="{{ course.link }}" target="_blank">{{ course.title }}</a>
                {% else %}
                  {{ course.title }}
                {% endif %}
              </td>
            </tr>
          {% endfor %}
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <p>No courses available yet.</p>
{% endif %}